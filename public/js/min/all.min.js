var originweb=angular.module("originweb",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router"]);!function(t){t.config(["$stateProvider","$urlRouterProvider","$httpProvider",function(t,o,e){e.interceptors.push(function(t){return{request:function(t){return t.headers=t.headers||{},t},responseError:function(o){return t.reject(o)},response:function(t){return t}}}),o.otherwise("/"),t.state("todo",{url:"/todo",templateUrl:"partials/todo-partial.html",controller:"todoController"}).state("home",{url:"/",templateUrl:"partials/home-partial.html",controller:"HomeController"})}])}(originweb),function(t){t.factory("API",function(t){var o="http://localhost:8000/",e=function(t){this.apiBase=t};return e.prototype.getApiBase=function(){return o},e.prototype.get=function(o,e){return t.get(o,e)},e.prototype.post=function(o,e){return t.post(o,e)},e.prototype.put=function(o,e){return t.put(o,e)},e.prototype.delete=function(o,e){return t.delete(o,e)},e.prototype.getTodoTask=function(){return this.get(this.apiBase+"api/todo/tasks/")},e.prototype.setActionDone=function(t){return this.post(this.apiBase+"api/todo/action/",{task:t})},e.prototype.createTask=function(t,o){return this.post(this.apiBase+"api/todo/tasks/",{name:t,description:o})},e.prototype.updateTask=function(t,o,e){return this.put(this.apiBase+"api/todo/tasks/"+t+"/",{name:o,description:e})},e.prototype.deleteTask=function(t){return this.delete(this.apiBase+"api/todo/tasks/"+t+"/")},new e(o)})}(originweb),function(t){t.controller("HomeController",["$scope",function(t){t.loginModel={username:"",password:""},t.performLogin=function(){console.log(t.loginModel)}}])}(originweb),function(t){t.controller("todoController",["$scope","API","$mdDialog","$mdToast",function(t,o,e,n){var i=function(t){n.show(n.simple().textContent(t).position("top right").action("Close").highlightAction(!0).highlightClass("md-accent").hideDelay(4e3))};o.getTodoTask().then(function(o){t.taskList=o.data},function(t){i(t)}),t.setTaskDone=function(t){o.setActionDone(t.id).then(function(o){t.status="DONE"},function(t){i(t)})},t.deleteTask=function(e,n){o.deleteTask(e.id).then(function(o){t.taskList.splice(n,1)},function(t){i(t)})},t.editTask=function(o,n){e.show({controller:function(t,e,n){t.taskDetails=angular.copy(o),t.editTask=function(){t.taskDetails.id?n.updateTask(t.taskDetails.id,t.taskDetails.name,t.taskDetails.description).then(function(t){e.hide(t.data)},function(t){i(t)}):n.createTask(t.taskDetails.name,t.taskDetails.description).then(function(t){e.hide(t.data)},function(t){i(t)})},t.cancel=function(){e.cancel()}},templateUrl:"partials/edit-task-dialog.html",locals:{task:o},clickOutsideToClose:!0}).then(function(e){o.id?t.taskList[n]=e:t.taskList.push(e)})}}])}(originweb);